<!DOCTYPE html>
<html>
<head>
	<title>js 基础 | xhdev @ihuixu</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="../common/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="../common/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet">
	<script src="../common/common.js"></script>
</head>
<body>

<div class="container text-center">
	<h1>基础</h1>
</div>

<script>
addDemo('#demo1', '通过eval对对象字面量求值', [
	'typeof 123'
	, 'typeof null'
	, 'typeof "s"'
	, 'typeof undefined'
	, 'typeof true'
	, 'typeof {a:1}'
	, 'typeof new function(){}'
	, 'typeof new RegExp("12","ig")'
])

addDemo('#demo2', '一个变量的作用域，总是完整的函数', [
	"foo()"
], [], `
	function foo(){
		var x = -512
		if(x < 0){
			var tmp = x
		}
		return tmp
	}
`)


addDemo('#demo3', 'IIFE（立刻调用函数表达式）-场景', [
	'jsResult[1]()'
	, 'jsResult[3]()'
], [
	1
	, 3
], `
	function foo(){
		var res = []
		for(var i = 0;i<5;i++){
			res.push(function(){return i})
		}
		return res
	}
	foo()
`)

addDemo('#demo4', 'IIFE', [
	'jsResult[1]()'
	, 'jsResult[3]()'
], [
	1
	, 3
], `
	function foo(){
		var res = []
		for(var i = 0;i<5;i++){

			(function(i){
				res.push(function(){return i})
			}(i))
/*
			(function(){
				var i2 = i
				res.push(function(){return i2})
			})()
*/

/*
			(function(i){
				res.push(function(){return i})
			})(i);
*/

		}
		return res
	}
	foo()
`)

</script>

</body>
</html>
